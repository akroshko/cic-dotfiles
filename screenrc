# https://bugs.launchpad.net/ubuntu/+source/vte/+bug/29787
# Control-^ (usually Control-Shift-6) is traditional and the only key not used by emacs
# escape ^^^^
# binds both M-[ and C-^ as command
# escape ^^^^
# bindkey "^[[" command
# use c-o as escape key
escape ^oO
# log on by default
deflog on
# Yes, we want this!
autodetach on
startup_message off
# Lots of scrollback is good!
defscrollback 9999
## do not trash BackSpace, usually DEL
bindkey -k kb
bindkey -d -k kb
## do not trash Delete, usually ESC [ 3 ~
bindkey -k kD
bindkey -d -k kD
# remove some key bindings
bind k
bind W
bind ^k
bind .
bind ^\
bind \\
bind ^h
bind h
# make them safer
bind K kill
# make screen behave a bit like emacs
# do I want 'windows' instead?
# want something that makes sense for this "http://www.gnu.org/software/screen/manual/screen.html#Screen-Command"
bind b select
bind ^b windowlist
# useful for debugging
bind ^K quit
bind ^f screen
# TODO: want to bind next window to something emacs-like
bind ' ' copy
# TODO: change this so I can use full copy mode
# TODO: don't like half-page stuff
markkeys ^U=^P:^D=^N
bind o focus
bind n next
bind p prev
bind s screen
bind 2 split
bind 3 split -v
# Seem to reflect Ctrl-W commands in VIM
bind = resize =
bind + resize +1
bind - resize -1
bind _ resize max
# hardstatus
# hardstatus on
# hardstatus alwayslastline
# copy mode
# https://gist.github.com/paxan/4666544
# markkeys =:=V:h=:l=:0=:$=:/=:?=
#
# https://wiki.archlinux.org/index.php/GNU_Screen
# hardstatus string "screen (%n: %t)"
# http://aperiodic.net/screen/appearance
# original
# caption always "%?%F%{-b bc}%:%{-b bb}%?%C|%D|%M %d|%H%?%F%{+u wb}%? %L=%-Lw%45>%{+b by}%n%f*%t%{-}%+Lw%-0<"
# XXXX: %? is a ternary operation with : being else part
# get pid for backtick command
backtick 1 0 0 /bin/bash -c "echo $PID"
caption always "[session: %1`.%S] %?%F%{-b kg}%:%{-b kr}%?%?%F%{+u kg}%? %L=%-w%45>%{+b by}%n %t%{-}%+w%-0<"
# see http://blog.nguyenvq.com/blog/2011/11/26/log-output-for-screen/
# TODO: make more general, can I sub variables
# think this needs to be at the end for some reason
logfile /home/akroshko/tmp/collect/screen-%H-%Y%m%d-%c-$PID-%S-%n.log
